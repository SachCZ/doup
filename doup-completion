#/usr/bin/env bash
_doup()
{
    if [ "${#COMP_WORDS[@]}" != "2" ]; then
        return
    fi
    local replies=()
    for entry in "${DOUP_SEARCHDIR}"/Dockerfile.*
    do
        replies+=($( awk -F'Dockerfile.' '{print $2}' <<< $entry))
    done
    COMPREPLY=($(compgen -W "${replies[*]}" "${COMP_WORDS[1]}"))
}

complete -F _doup doup
